% thesislayout.tex
%
% Author:  Tim Steenvoorden
% Changed: 30 Jan 2012
%
\startenvironment thesislayout
\environment      documentdefinitions

% ------------------------------------------------------------------------------
% Language
% ------------------------------------------------------------------------------

\mainlanguage[nl]

% ------------------------------------------------------------------------------
% Typeface
% ------------------------------------------------------------------------------

\usemodule[simplefonts]

\setmainfont[Aldus LT Std]
  [features=oldstyle]
\setmathfont[Palatino]

\starthiding
\definefontfeature[default][default]
  [onum=yes]%FIXME: hack
\definefontfeature[smallcaps][smallcaps]
  [onum=yes]%FIXME: hack

\definefontfeature[hanging][default]
  [protrusion=pure]
\definefontfeature[oldstyle][default]
  [onum=yes,mode=node,script=latn]

\definetypeface[pageros][rm][serif][palatino]%[default][features=oldstyle]
\definetypeface[pageros][ss][sans][helvetica][default][rscale=0.91]
\definetypeface[pageros][mm][math][palatino]
\definetypeface[pageros][tt][mono][modern]

\setupbodyfont[pageros,11pt]

%\setupalign[hanging]

\setupcapitals
  [sc=yes]
\stophiding

% ------------------------------------------------------------------------------
% Pagelayout
% ------------------------------------------------------------------------------

\setuppapersize[A4][A4]

\setuplayout
  [width=middle,
   backspace=26mm,
   cutspace=42mm,
   height=middle,
   topspace=26mm,
   bottomspace=\dimexpr(42mm-3\lineheight),
   margin=26mm,
   header=\lineheight,
   headerdistance=\lineheight,
   footerdistance=2\lineheight,
   footer=\lineheight]

\setuppagenumbering
  [alternative=doublesided,
   location=]% See \setupheader/footertexts

\setupheader
  [state=empty,
   style=\sc]
\setupfooter
  [style=\sc]

\setupheadertexts
  [][section]
  [chapter][]
\setupfootertexts
  [][pagenumber]
  [pagenumber][]

\setupmargindata[inmargin]
  [location=outer,
   style=\it]
\setupmarginframed[inmargin]
  [align=inner]

% ------------------------------------------------------------------------------
% Text
% ------------------------------------------------------------------------------

\setupindenting[yes,medium]

\setupurl
  [style=\it]

\setupfootnotes
  [numbercommand=]% We don't want subscripts at the bottom of the page.
\setupfootnotedefinition
  [location=left,
   distance=0.5em]

\setupformulas
  [align=right,
   margin=yes,
   spacebefore=medium,
   indentnext=auto]

\setupsynonyms[abbreviation]
  [synonymstyle=\sc]

% ------------------------------------------------------------------------------
% Definitions
% ------------------------------------------------------------------------------

\setupitemize[each]
  [packed]
  [headstyle=\it]

\setupquote
  [location=margin,
   leftmargin=standard,
   style=\it]

% ------------------------------------------------------------------------------
% Heads
% ------------------------------------------------------------------------------

\setuphead[chapter]
  [style=\tfb,
   color=orange]
\setuphead[section]
  [style=\sc,
   color=orange,
   alternative=margin,
   before=\blank,
   after=\blank]
\setuphead[subsection]
  [textstyle=\it]

% ------------------------------------------------------------------------------
% Lists & Registers
% ------------------------------------------------------------------------------

\setupcombinedlist[content]
  [alternative=a,
   level=section,
   pagestyle=\quad\it]

% ------------------------------------------------------------------------------
% Figures & Tables
% ------------------------------------------------------------------------------

\setupcaptions
  [headstyle=\sc,
   headcolor=orange]

\setuptabulate
  [rulethickness=0.8pt]

% ------------------------------------------------------------------------------
% Sectionblocks
% ------------------------------------------------------------------------------

\startsectionblockenvironment[frontpart]
  \setuppagenumbering
    [conversion=romannumerals]
\stopsectionblockenvironment

\startsectionblockenvironment[bodypart]
  \writebetweenlist[chapter]{\blank}
  \setuppagenumber
    [number=1]
\stopsectionblockenvironment

\startsectionblockenvironment[appendix]
  \writebetweenlist[chapter]{\blank}
\stopsectionblockenvironment

\startsectionblockenvironment[backpart]
  \writebetweenlist[chapter]{\blank}
\stopsectionblockenvironment

% ------------------------------------------------------------------------------
% Publications
% ------------------------------------------------------------------------------

%\setupbibtex
  %[database=bibliography]
   %sort=author]

%\setuppublications
  %[alternative=aps]

% ------------------------------------------------------------------------------
% Synonyms
% ------------------------------------------------------------------------------

\abbreviation{LHS}{Left Hand Side}
\abbreviation{RHS}{Right Hand Side}
\abbreviation{LHC}{Large Hadron Collider}

% ------------------------------------------------------------------------------
% TikZ
% ------------------------------------------------------------------------------

\usemodule[tikz]

\tikzstyle{every picture}=[thick,>=latex,font=\small]

\colorlet{light orange}{orange!33}
\colorlet{mid orange}{orange!66}

% ------------------------------------------------------------------------------
% Modes
% ------------------------------------------------------------------------------

\startmode[correction]
\version[temporary]
\setupinterlinespace[big]
\stopmode

\stopenvironment

% vim: ts=2 sw=2 et spell

